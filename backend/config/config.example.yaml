server:
  port: "8100"
  mode: "release"
  trusted_proxies: []
  tls_cert_file: ""
  tls_key_file: ""
firestore:
  project_id: "your-gcp-project"
  database_id: "(default)"
  collection_prefix: ""
  emulator_host: ""
auth:
  jwt_secret: "local-dev-secret-change-me"
  issuer: "personal-website"
  audience:
    - "personal-website-admin"
  clock_skew_seconds: 30
  disabled: false
  admin:
    default_redirect_uri: "/admin/"
    allowed_domains: []
    allowed_emails: []
    session_cookie_name: "ps_admin_session"
    session_cookie_domain: ""
    session_cookie_path: "/"
    session_cookie_secure: true
    session_cookie_http_only: true
    session_cookie_same_site: "strict"
    session_ttl: "24h"
    session_idle_timeout: "2h"
    session_refresh_window: "20m"
contact:
  timezone: "Asia/Tokyo"
  calendar_timezone: "Asia/Tokyo"
  slot_duration_minutes: 30
  workday_start_hour: 9
  workday_end_hour: 18
  horizon_days: 14
  buffer_minutes: 30
  topics:
    - "Research collaboration"
    - "Speaking engagement"
  recaptcha_site_key: ""
  minimum_lead_hours: 48
  consent_text: "We only use your information for scheduling purposes."
  support_email: "contact@example.com"
booking:
  calendar_id: "primary"
  meet_template: "Portfolio Intro Session"
  notification_sender: "noreply@example.com"
  notification_receiver: "owner@example.com"
  access_token_env: "GOOGLE_API_ACCESS_TOKEN"
  request_timeout: 8s
  max_retries: 3
  initial_backoff: 750ms
  backoff_multiplier: 2.0
  circuit_open_seconds: 60
  circuit_failure_threshold: 3
security:
  enable_csrf: true
  csrf_signing_key: "local-dev-csrf-secret-change-me"
  csrf_token_ttl: 1h
  csrf_cookie_name: "ps_csrf"
  csrf_cookie_domain: ""
  csrf_cookie_secure: false
  csrf_cookie_http_only: true
  csrf_cookie_same_site: "lax"
  csrf_header_name: "X-CSRF-Token"
  csrf_exempt_paths:
    - "/api/auth/callback"
  https_redirect: false
  hsts_max_age_seconds: 63072000
  content_security_policy: "default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; font-src 'self'; connect-src 'self'; frame-ancestors 'none'; form-action 'self'; base-uri 'self'"
  referrer_policy: "strict-origin-when-cross-origin"
  rate_limit_requests_per_minute: 120
  rate_limit_burst: 20
  rate_limit_whitelist: []
  allowed_origins:
    - "http://localhost:5173"
    - "http://localhost:5174"
  allow_credentials: true
metrics:
  enabled: true
  endpoint: "/metrics"
  namespace: "personal_website"
logging:
  level: "info"
db_driver: "mysql"
database:
  driver: "mysql"
  dsn: "" # optional; when empty, uses DB_* environment variables
  host: "127.0.0.1"
  port: 3306
  user: "app_user"
  name: "personal_website"
  instance_connection_name: "" # e.g. project:region:instance for Cloud SQL
  timezone: "Asia/Tokyo"
  max_open_conns: 10
  max_idle_conns: 5
  conn_max_lifetime: 30m
